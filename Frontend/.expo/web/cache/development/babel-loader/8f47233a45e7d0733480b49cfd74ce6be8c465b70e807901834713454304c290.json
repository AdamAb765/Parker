{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useRef, useState } from 'react';\nimport MapView, { Callout } from 'react-native-maps';\nimport { Marker } from 'react-native-maps';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport * as Location from 'expo-location';\nimport View from \"react-native-web/dist/exports/View\";\nimport { StatusBar } from 'expo-status-bar';\nimport { Stack, TextInput, IconButton, Button } from \"@react-native-material/core\";\nimport { CheckBox } from '@rneui/themed';\nimport axios from 'axios';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function Profile(_ref) {\n  var navigation = _ref.navigation,\n    route = _ref.route;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    useMyLocation = _useState2[0],\n    setUseMyLocation = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    titleInput = _useState4[0],\n    setTitleInput = _useState4[1];\n  var _useState5 = useState(''),\n    _useState6 = _slicedToArray(_useState5, 2),\n    descriptionInput = _useState6[0],\n    setDescriptionInput = _useState6[1];\n  var _useState7 = useState(''),\n    _useState8 = _slicedToArray(_useState7, 2),\n    locationInput = _useState8[0],\n    setLocationInput = _useState8[1];\n  var onCheckBoxPress = function onCheckBoxPress() {\n    setUseMyLocation(!useMyLocation);\n  };\n  var getMyLocation = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      var _yield$Location$reque = yield Location.requestForegroundPermissionsAsync(),\n        status = _yield$Location$reque.status;\n      if (status !== 'granted') {\n        return;\n      }\n      var location = yield Location.getCurrentPositionAsync({\n        accuracy: Location.Accuracy.Balanced,\n        enableHighAccuracy: true,\n        timeInterval: 5\n      });\n      return location;\n    });\n    return function getMyLocation() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var getGeoLocationFromInput = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      var searchInputResult = yield axios.get(\"https://maps.googleapis.com/maps/api/geocode/json?&address=\" + locationInput + \"&key=AIzaSyCZ-6i7NFhGDzMJl1546n-2EI0laWUc2Hc\");\n      var firstSearchResult = searchInputResult.data.results[0];\n      console.log(searchInputResult);\n      var locationToReturn = null;\n      if (firstSearchResult && firstSearchResult.geometry) {\n        locationToReturn = {\n          coords: {\n            latitude: firstSearchResult.geometry.location.lat,\n            longitude: firstSearchResult.geometry.location.lng\n          }\n        };\n      }\n      return locationToReturn;\n    });\n    return function getGeoLocationFromInput() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var onCreateParking = function () {\n    var _ref4 = _asyncToGenerator(function* () {\n      if (titleInput && descriptionInput) {\n        var currentLocation;\n        if (useMyLocation) {\n          currentLocation = yield getMyLocation();\n        } else if (locationInput) {\n          currentLocation = yield getGeoLocationFromInput();\n        }\n        if (currentLocation && currentLocation.coords) {\n          Alert.alert('Success!', 'Parking added successfully');\n        } else {\n          Alert.alert('Failed!', \"Either this parking spot doesnt exist, or youre not using own location. Please try again\");\n        }\n      } else {\n        Alert.alert('Failed!', 'Please enter all details');\n      }\n    });\n    return function onCreateParking() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(View, {\n      style: {\n        borderBottomColor: 'black',\n        borderBottomWidth: StyleSheet.hairlineWidth\n      }\n    }), _jsx(TextInput, {\n      placeholder: \"Parking Title\",\n      variant: \"outlined\",\n      style: styles.textInput,\n      onChangeText: function onChangeText(newText) {\n        return setTitleInput(newText);\n      }\n    }), _jsx(TextInput, {\n      placeholder: \"Parking Description\",\n      variant: \"outlined\",\n      style: styles.textInput,\n      onChangeText: function onChangeText(newText) {\n        return setDescriptionInput(newText);\n      }\n    }), _jsx(TextInput, {\n      placeholder: \"Parking Location\",\n      variant: !useMyLocation ? \"outlined\" : 'filled',\n      editable: !useMyLocation,\n      style: styles.textInput,\n      onChangeText: function onChangeText(newText) {\n        return setLocationInput(newText);\n      }\n    }), _jsx(CheckBox, {\n      onPress: function onPress() {\n        return onCheckBoxPress();\n      },\n      checked: useMyLocation,\n      title: \"Would you like to use your current location?\"\n    }), _jsx(Button, {\n      title: \"Create Parking\",\n      color: \"blue\",\n      onPress: onCreateParking\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    justifyContent: 'center',\n    height: '100%',\n    width: '100%'\n  },\n  header: {\n    fontWeight: 'bold',\n    fontSize: 25,\n    marginBottom: 15\n  },\n  parkingImage: {\n    resizeMode: 'cover',\n    width: '60%',\n    height: '60%'\n  },\n  textStyle: {\n    marginBottom: 5\n  },\n  textInput: {\n    width: '70%',\n    height: '10%',\n    marginBottom: 5\n  }\n});","map":{"version":3,"names":["React","useEffect","useRef","useState","MapView","Callout","Marker","StyleSheet","Image","Text","TouchableOpacity","Alert","Location","View","StatusBar","Stack","TextInput","IconButton","Button","CheckBox","axios","jsx","_jsx","jsxs","_jsxs","Profile","_ref","navigation","route","_useState","_useState2","_slicedToArray","useMyLocation","setUseMyLocation","_useState3","_useState4","titleInput","setTitleInput","_useState5","_useState6","descriptionInput","setDescriptionInput","_useState7","_useState8","locationInput","setLocationInput","onCheckBoxPress","getMyLocation","_ref2","_asyncToGenerator","_yield$Location$reque","requestForegroundPermissionsAsync","status","location","getCurrentPositionAsync","accuracy","Accuracy","Balanced","enableHighAccuracy","timeInterval","apply","arguments","getGeoLocationFromInput","_ref3","searchInputResult","get","firstSearchResult","data","results","console","log","locationToReturn","geometry","coords","latitude","lat","longitude","lng","onCreateParking","_ref4","currentLocation","alert","style","styles","container","children","borderBottomColor","borderBottomWidth","hairlineWidth","placeholder","variant","textInput","onChangeText","newText","editable","onPress","checked","title","color","create","flex","backgroundColor","alignItems","justifyContent","height","width","header","fontWeight","fontSize","marginBottom","parkingImage","resizeMode","textStyle"],"sources":["C:/projects/git-workspace/Parker/Frontend/src/components/Profile.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport MapView, { Callout } from 'react-native-maps';\r\nimport { Marker } from 'react-native-maps';\r\nimport { StyleSheet, Image, Text, TouchableOpacity, Alert } from 'react-native';\r\nimport * as Location from 'expo-location'\r\nimport { View } from 'react-native';\r\nimport { StatusBar } from 'expo-status-bar';\r\nimport { Stack, TextInput, IconButton, Button } from \"@react-native-material/core\";\r\nimport { CheckBox } from '@rneui/themed'\r\nimport axios from 'axios';\r\n\r\nexport default function Profile({ navigation, route }) {\r\n    const [useMyLocation, setUseMyLocation] = useState(false)\r\n    const [titleInput, setTitleInput] = useState('')\r\n    const [descriptionInput, setDescriptionInput] = useState('')\r\n    const [locationInput, setLocationInput] = useState('')\r\n\r\n    const onCheckBoxPress = () => {\r\n        setUseMyLocation(!useMyLocation)\r\n    }\r\n\r\n    const getMyLocation = async () => {\r\n        let { status } = await Location.requestForegroundPermissionsAsync();\r\n        if (status !== 'granted') {\r\n            return;\r\n        }\r\n\r\n        let location = await Location.getCurrentPositionAsync({\r\n            accuracy: Location.Accuracy.Balanced,\r\n            enableHighAccuracy: true,\r\n            timeInterval: 5\r\n        })\r\n\r\n        return location\r\n    }\r\n\r\n    const getGeoLocationFromInput = async () => {\r\n        const searchInputResult = await axios.get(`https://maps.googleapis.com/maps/api/geocode/json?&address=${locationInput}&key=AIzaSyCZ-6i7NFhGDzMJl1546n-2EI0laWUc2Hc`)\r\n        const firstSearchResult = searchInputResult.data.results[0]\r\n        console.log(searchInputResult)\r\n        let locationToReturn = null\r\n\r\n        if (firstSearchResult && firstSearchResult.geometry) {\r\n            locationToReturn = {\r\n                coords: {\r\n                    latitude: firstSearchResult.geometry.location.lat,\r\n                    longitude: firstSearchResult.geometry.location.lng,\r\n                }\r\n            }\r\n        }\r\n\r\n        return locationToReturn\r\n    }\r\n\r\n    const onCreateParking = async () => {\r\n        if (titleInput && descriptionInput) {\r\n            let currentLocation\r\n\r\n            if (useMyLocation) {\r\n                currentLocation = await getMyLocation()\r\n            } else if (locationInput) {\r\n                currentLocation = await getGeoLocationFromInput()\r\n            }\r\n\r\n            if (currentLocation && currentLocation.coords) {\r\n                Alert.alert('Success!', 'Parking added successfully')\r\n            } else {\r\n                Alert.alert('Failed!', `Either this parking spot doesnt exist, or youre not using own location. Please try again`)\r\n            }\r\n        } else { \r\n            Alert.alert('Failed!', 'Please enter all details')\r\n        }\r\n    }\r\n\r\n    return (\r\n        <View style={styles.container}>\r\n\r\n            <View\r\n                style={{\r\n                    borderBottomColor: 'black',\r\n                    borderBottomWidth: StyleSheet.hairlineWidth,\r\n                }}\r\n            />\r\n\r\n            <TextInput\r\n                placeholder=\"Parking Title\"\r\n                variant=\"outlined\"\r\n                style={styles.textInput}\r\n                onChangeText={(newText) => setTitleInput(newText)}\r\n            />\r\n            <TextInput\r\n                placeholder=\"Parking Description\"\r\n                variant=\"outlined\"\r\n                style={styles.textInput}\r\n                onChangeText={(newText) => setDescriptionInput(newText)}\r\n            />\r\n            <TextInput\r\n                placeholder=\"Parking Location\"\r\n                variant={!useMyLocation ? \"outlined\" : 'filled'}\r\n                editable={!useMyLocation}\r\n                style={styles.textInput}\r\n                onChangeText={(newText) => setLocationInput(newText)}\r\n           />\r\n\r\n            <CheckBox onPress={() => onCheckBoxPress()} checked={useMyLocation} title=\"Would you like to use your current location?\" />\r\n\r\n            <Button title=\"Create Parking\" color=\"blue\" onPress={onCreateParking} />\r\n        </View>\r\n    );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        backgroundColor: '#fff',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        height: '100%',\r\n        width: '100%'\r\n    },\r\n    header: {\r\n        fontWeight: 'bold',\r\n        fontSize: 25,\r\n        marginBottom: 15,\r\n    },\r\n    parkingImage: {\r\n        resizeMode: 'cover',\r\n        width: '60%',\r\n        height: '60%'\r\n    },\r\n    textStyle: {\r\n        marginBottom: 5\r\n    },\r\n    textInput: {\r\n        width: '70%',\r\n        height: '10%',\r\n        marginBottom: 5,\r\n    }\r\n});"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}